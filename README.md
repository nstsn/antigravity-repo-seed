# AI Thread Renamer

AIチャット（ChatGPT / Gemini）のスレッドタイトルを素早くリネームし、タグで整理・検索できるChrome拡張機能です。

## ✨ 主要機能

### 🎯 スマートリネーム
- **サイドパネルから最短操作**でアクティブなスレッドをリネーム
- **日付プレフィックス自動付与**（`YYMMDD_` 形式、例：`260118_`）
- **ハッシュタグ管理**：ユーザー登録リストから選択（最大3つ）
- **タグ自動提案**：本文の類似度スコアリングで候補を表示
- **プレビュー機能**：変更前後のタイトルを確認してから実行
- **Undo機能**：リネーム後に元に戻せる安全装置

### 🔍 高速検索・ジャンプ
- **タグフィルタ**：複数タグでの絞り込み（OR検索）
- **期間フィルタ**：日付プレフィックスによる範囲指定
- **フリーワード検索**：タイトル部分一致
- **ワンクリックジャンプ**：検索結果から同タブ/新タブで開く
- **Pin/Favorite**：重要なスレッドを固定・お気に入り登録
- **Sticky Timeline**：時間軸で履歴を分かりやすく表示

### ⚡ 快適な操作性
- **キーボードショートカット**でサイドパネルを即起動
- **修飾キー対応**のCard Jump（Ctrl/Cmd+クリックで新タブ）
- **自動フォーカス**：パネルを開くと本文入力欄にフォーカス

### 🛡️ 安全性・プライバシー
- **ローカル完結**：会話内容を外部送信しない
- **失敗時の詳細表示**：原因と推奨アクションを提示
- **DOM変更に強い設計**：サイト別アダプタ、冗長セレクタ、待機機構

## 🎯 対象ユーザー

- AIチャットを日常的に使う人（仕事/学習）
- 会話ログを後から検索・整理したい人
- リネーム作業を効率化したい人

## 🚀 セットアップ

### 前提条件
- Node.js 18以上
- npm または yarn

### インストール

```bash
# リポジトリをクローン
git clone <repository-url>
cd antigravity-repo-seed

# 依存関係をインストール
npm install

# 開発ビルド
npm run dev

# 本番ビルド
npm run build
```

### Chrome拡張として読み込む

1. Chromeで `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」を有効化
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. `dist` フォルダを選択

## 🏗️ アーキテクチャ

### コンポーネント構成

```
src/
├── background/       # Service Worker（ショートカット、ストレージI/O）
├── panel/           # Side Panel UI（React）
├── content/         # Content Script（DOM操作）
├── adapters/        # サイト別アダプタ（ChatGPT/Gemini）
└── shared/          # 共通ロジック
    ├── title/       # タイトル整形
    ├── tags/        # タグ提案・スコアリング
    └── storage/     # ストレージ管理
```

### 技術スタック

- **フレームワーク**: React 18
- **言語**: TypeScript
- **ビルドツール**: Vite
- **スタイリング**: Tailwind CSS
- **テスト**: Vitest
- **Chrome APIs**: Side Panel, Storage, Commands

### 設計原則

- **責務の分離**：UI / ビジネスロジック / サイト固有処理を明確に分離
- **アダプタパターン**：サイト別のDOM操作をアダプタに集約
- **冗長性**：セレクタは複数候補を持ち、DOM変更に耐える
- **ユーザー価値優先**：時短・安全・壊れにくさを最優先

## 📖 ドキュメント

詳細な仕様と設計は以下を参照してください：

- **[PRD](docs/PRD.md)** - 製品要件定義（ゴール、機能要件、非機能要件）
- **[DESIGN](docs/DESIGN.md)** - アーキテクチャ、UX、データモデル設計

## 🛠️ 開発ガイド

### スクリプト

```bash
npm run dev      # 開発モード（ホットリロード）
npm run build    # 本番ビルド
npm run preview  # ビルド結果のプレビュー
npm run test     # テスト実行
```

### コーディング規約

- `.agent/rules/` 配下の規約を参照
- 特に `tech_stack.md` と `vibe_guidelines.md` を確認

### ワークフロー

新機能の追加や修正は `.agent/workflows/feature_implementation.md` を参照してください。

## 📝 変更履歴

- **2026/01/18** - 初回リリース、基本機能実装

## 🤝 コントリビューション

このプロジェクトは現在プライベート開発中です。

## 📄 ライセンス

ISC

---

**開発者向けメモ**: 作業前に必ず `docs/PRD.md` と `docs/DESIGN.md` を確認し、`.agent/rules/` の規約に従ってください。
